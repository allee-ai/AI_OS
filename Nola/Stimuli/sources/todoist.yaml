name: todoist
type: rest
enabled: false
poll_interval: 300
description: null
auth:
  method: bearer
  token_env: TODOIST_API_TOKEN
pull:
  endpoint: https://api.todoist.com/rest/v2/tasks
  method: GET
  params:
    filter: today | overdue
  mapping:
    messages: $
    id: $.id
    thread_id: $.id
    sender_id: $.project_id
    sender_name: $.project_id
    subject: $.content
    body: $.description
push:
  endpoint: https://api.todoist.com/rest/v2/comments
  method: POST
  body_template:
    task_id: '{{thread_id}}'
    content: '{{body}}'
